window.onload=function(){function t(t){function i(t){for(o="",j=0;j<t;j++)o+='<img src="assets/images/ratingstar.png" alt="" />';return o}var l,o,n=JSON.parse(t),r="",d="<div>",p='<div id="details">',c='<div id="map-canvas">';for(l=0;l<n.length;l++){var g,m=n[l].galleries;ratingstars=n[l].ratingstar,kms=n[l].nearkm,kms=kms?kms:"- ",g=0===m.length?"assets/images/noimg.png":encodeURI(n[l].galleries[0].img_path),r+='<li class="list-items"><a class="clearfix" style="display:block;" href="'+e+"detail.html?pid="+n[l].placeid+'">                        <section class="list-contents clearfix"><figure><img src="'+g+'" alt="" width="125" height="75" /></figure>                        <aside><h4>'+n[l].title+"</h4><p>"+n[l].address+'</p><figure class="ratingstars">'+i(ratingstars)+"</figure>"+kms+"Kms from city</aside>                        </section>                        </a>                        </li>"}console.log(n),$.each(n,function(t){function e(t){var e="";e+='<div id="jssor_1" style="position: relative; margin: 0 auto; top: 0px; left: 0px; width: 1300px; height: 500px; overflow: hidden; visibility: hidden;">                            \t\t  <div data-u="slides" style="cursor: default; position: relative; top: 0px; left: 0px; width: 1300px; height: 500px; overflow: hidden;">',t.forEach(function(t){encodeURI(t.img_path);e+='<div data-p="225.00" style="display: none;"><img data-u="image" src="'+t.img_path+'"/></div>'}),e+='<div data-p="225.00" data-po="80% 55%" style="display: none;"> <a href="http://theoreminc.net"><img data-u="image" src="assets/images/theorem.jpg"/></a></div>                             \t\t</div>                            \t\t  <div data-u="navigator" class="jssorb05" style="bottom:16px;right:16px;" data-autocenter="1">                            \t\t\t<div data-u="prototype" style="width:16px;height:16px;"></div>                            \t\t  </div>                            \t\t  <span data-u="arrowleft" class="jssora22l" style="top:0px;left:12px;width:40px;height:58px;" data-autocenter="2"></span>                             \t\t  <span data-u="arrowright" class="jssora22r" style="top:0px;right:12px;width:40px;height:58px;" data-autocenter="2"></span>                             \t\t</div>',$("#slider-content").append(e)}function i(){var e={center:m,zoom:16,mapTypeId:google.maps.MapTypeId.ROADMAP},i=new google.maps.Map(document.getElementById("map-canvas"),e);new google.maps.Marker({position:h,map:i,title:n[t].title})}if(n[t].placeid==a){var s=n[t].galleries,l=n[t].nearestplace,l=l?n[t].nearestplace.split("\r\n"):[];console.log(l),e(s),jssor_1_slider_init();var o="";o+="<div><ul>",l.forEach(function(t){o+="<li>"+t+"</li>"}),o+="</ul></div>",$(o).insertAfter("#id05 h2"),$(function(){var t=$("#id04 #details");console.log(t),$(t).each(function(t){var e=150;if($(this).html().length>e){var i=$(this).html().substr(0,e),s=$(this).html().substr(e);$(this).html(i+'<a href="#" class="read_more"><br/>Read More</a><span class="more_text" style="display:none;">'+s+"</span>"),$(this).find("a.read_more").click(function(t){t.preventDefault(),$(this).hide(),$(this).parents(".item").find(".more_text").show()})}})}),d+="<p style=\"color:#b65c39; font-family: 'Abel', sans-serif; font-weight:bold; padding:10px;\">"+n[t].title+"</p></div>",d+="</div>",p+="<div>"+$("<div/>").html(n[t].details).text()+"</div>",p+="</div>",c+="</div>";var r=n[t].lati,g=n[t].longi;r=r?n[t].lati.substr(0,7):"N/A",g=g?n[t].longi.substr(0,7):"N/A",console.log("selected page Latitude is "+r+" & Longitude is "+g);var m=new google.maps.LatLng(r,g),h=new google.maps.LatLng(r,g);google.maps.event.addDomListener(window,"load",i)}}),$(document).on("keyup","input[name='q']",function(){var t=$(this).val(),i=t.toLowerCase();console.log(i);var s="";""==i?$(".search-result").empty():($.each(n,function(t,a){function l(t){for(o="",j=0;j<t;j++)o+='<img src="assets/images/ratingstar.png" alt="" />';return o}var r,d=n[t].title.toLowerCase(),p=n[t].galleries;ratingstars=n[t].ratingstar,kms=n[t].nearkm,console.log(d),r=0===p.length?"assets/images/noimg.png":encodeURI(n[t].galleries[0].img_path),d.indexOf(i)!=-1&&(s+="<a href="+e+"detail.html?pid="+n[t].placeid+' style="text-decoration:none;">                            \t\t\t\t\t\t\t\t<div id="placeblocks">                            \t\t\t\t\t\t\t\t\t<div style="background-color:rgba(250, 250, 250, 1.0);">                            \t\t\t\t\t\t\t\t\t\t<div class="text">                            \t\t\t\t\t\t\t\t\t\t\t<ul>                            \t\t\t\t\t\t\t\t\t\t\t<li style="width:40%;">                            \t\t\t\t\t\t\t\t\t\t\t\t<img src="'+r+' " alt="" width="125" height="75" class="img" style="border:2px solid #d1cece;">                            \t\t\t\t\t\t\t\t\t\t\t</li>                            \t\t\t\t\t\t\t\t\t\t\t<li style="width:60%; line-height:18px;">                            \t\t\t\t\t\t\t\t\t\t\t\t<span style="color:#448802; font-family:Abel, sans-serif; font-size:16px; font-weight:bold;"> "'+n[t].title+'"</span><br>                            \t\t\t\t\t\t\t\t\t\t\t\t<span style="color:#222222; font-family:Abel, sans-serif; font-size:14px;"> "'+n[t].address+'"</span>                            \t\t\t\t\t\t\t\t\t\t\t\t<div style="color:#000; padding-top:15px;"><ul style="float:left;"><li>'+l(ratingstars)+"</li><li>"+kms+"Kms from city</li></ul></div>                            \t\t\t\t\t\t\t\t\t\t\t</li>",s+='</ul></div></div></div><div class="clear"></div><div class="clear"></div></a>')}),""==s&&(s+='<p style="color:#FFFFFF;margin-left:5px;margin-bottom:30px;">No results found.</p>'),$(".search-result").empty().append('<h2 style="color:#FFFFFF;margin:10px 5px;">Search results related to the keyword "'+t+'"</h2>'+s))}),s.indexOf("detail")!==-1?(document.getElementById("id02").innerHTML=d,document.getElementById("id03").innerHTML=c,document.getElementById("id04").innerHTML=p):document.getElementById("listings").innerHTML=r}var e,i=new XMLHttpRequest,s=location.href.split(".html")[0].split("/").pop();e=s.indexOf("detail")!==-1?s.split("detail")[0]:s;var a=location.href.slice(-16),l="assets/json/"+e+".json";$("body").addClass(e),$('a[href="#id02"]').click(function(){$(".detailblock").css({padding:"50px 0px 0px 0px !important;"})}),console.log(s),console.log(e),console.log(a),console.log(l),i.onreadystatechange=function(){4==i.readyState&&t(i.responseText)},i.open("GET",l,!0),i.send()}();
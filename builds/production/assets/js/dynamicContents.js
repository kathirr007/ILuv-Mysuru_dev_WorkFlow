window.onload=function(){function t(t){function i(t){for(l="",j=0;j<t;j++)l+='<img src="assets/images/ratingstar.png" alt="" />';return l}var n,l,o=JSON.parse(t),r="",d="<div>",p='<div id="details">',c='<div id="map-canvas">';for(n=0;n<o.length;n++){var g,m=o[n].galleries;ratingstars=o[n].ratingstar,kms=o[n].nearkm,kms=kms?kms:"- ",g=0===m.length?"assets/images/noimg.png":encodeURI(o[n].galleries[0].img_path),r+='<li class="list-items"><a class="clearfix" style="display:block;" href="'+e+"detail.html?pid="+o[n].placeid+'">                        <section class="list-contents clearfix"><figure><img src="'+g+'" alt="" width="125" height="75" /></figure>                        <aside><h4>'+o[n].title+"</h4><p>"+o[n].address+'</p><figure class="ratingstars">'+i(ratingstars)+"</figure>"+kms+"Kms from city</aside>                        </section>                        </a>                        </li>"}console.log(o),$.each(o,function(t){function e(t){var e="";e+='<div id="jssor_1" style="position: relative; margin: 0 auto; top: 0px; left: 0px; width: 600px; height: 285px; overflow: hidden; visibility: hidden;">                            \t\t  <div data-u="slides" style="cursor: default; position: relative; top: 0px; left: 0px; width: 600px; height: 285px; overflow: hidden;">',t.forEach(function(t){encodeURI(t.img_path);e+='<div data-p="225.00" style="display: none;"><img data-u="image" src="'+t.img_path+'"/></div>'}),e+='<div data-p="225.00" data-po="80% 55%" style="display: none;"> <a href="http://theoreminc.net"><img data-u="image" src="assets/images/theorem.jpg"/></a></div>                             \t\t</div>                            \t\t  <div data-u="navigator" class="jssorb05" style="bottom:16px;right:16px;" data-autocenter="1">                            \t\t\t<div data-u="prototype" style="width:16px;height:16px;"></div>                            \t\t  </div>                            \t\t  <span data-u="arrowleft" class="jssora22l" style="top:0px;left:12px;width:40px;height:58px;" data-autocenter="2"></span>                             \t\t  <span data-u="arrowright" class="jssora22r" style="top:0px;right:12px;width:40px;height:58px;" data-autocenter="2"></span>                             \t\t</div>',$("#slider-content").append(e)}function i(){var e={center:m,zoom:16,mapTypeId:google.maps.MapTypeId.ROADMAP},i=new google.maps.Map(document.getElementById("map-canvas"),e);new google.maps.Marker({position:h,map:i,title:o[t].title})}if(o[t].placeid==s){var a=o[t].galleries,n=o[t].nearestplace,n=n?o[t].nearestplace.split("\r\n"):[];console.log(n),e(a),jssor_1_slider_init();var l="";l+="<div><ul>",n.forEach(function(t){l+="<li>"+t+"</li>"}),l+="</ul></div>",$(l).insertAfter("#id05 h2"),$(function(){var t=$("#id04 #details");console.log(t),$(t).each(function(t){var e=150;if($(this).html().length>e){var i=$(this).html().substr(0,e),a=$(this).html().substr(e);$(this).html(i+'<a href="#" class="read_more"><br/>Read More</a><span class="more_text" style="display:none;">'+a+"</span>"),$(this).find("a.read_more").click(function(t){t.preventDefault(),$(this).hide(),$(this).parents(".item").find(".more_text").show()})}})}),d+="<p style=\"color:#b65c39; font-family: 'Abel', sans-serif; font-weight:bold; padding:10px;\">"+o[t].title+"</p></div>",d+="</div>",p+="<div>"+$("<div/>").html(o[t].details).text()+"</div>",p+="</div>",c+="</div>";var r=o[t].lati,g=o[t].longi;r=r?o[t].lati.substr(0,7):"N/A",g=g?o[t].longi.substr(0,7):"N/A",console.log("selected page Latitude is "+r+" & Longitude is "+g);var m=new google.maps.LatLng(r,g),h=new google.maps.LatLng(r,g);google.maps.event.addDomListener(window,"load",i)}}),$(document).on("keyup","input[name='q']",function(){var t=$(this).val(),i=t.toLowerCase();console.log(i);var a="";""==i?$(".search-result").empty():($.each(o,function(t,s){function n(t){for(l="",j=0;j<t;j++)l+='<img src="assets/images/ratingstar.png" alt="" />';return l}var r,d=o[t].title.toLowerCase(),p=o[t].galleries;ratingstars=o[t].ratingstar,kms=o[t].nearkm,console.log(d),r=0===p.length?"assets/images/noimg.png":encodeURI(o[t].galleries[0].img_path),d.indexOf(i)!=-1&&(a+='<li class="list-items"><a class="clearfix" style="display:block;" href="'+e+"detail.html?pid="+o[t].placeid+'">                                        <section class="list-contents clearfix"><figure><img src="'+r+'" alt="" width="125" height="75" /></figure>                                        <aside><h4>'+o[t].title+"</h4><p>"+o[t].address+'</p><figure class="ratingstars">'+n(ratingstars)+"</figure>"+kms+"Kms from city</aside>                                        </section>                                        </a>                                        </li>")}),""==a&&(a+='<p style="color:#FFFFFF;margin-left:5px;margin-bottom:30px;">No results found.</p>'),$(".search-result").empty().append('<h2 style="color:#FFFFFF;margin:10px 5px;">Search results related to the keyword "'+t+'"</h2>'+a))}),a.indexOf("detail")!==-1?(document.getElementById("id02").innerHTML=d,document.getElementById("id03").innerHTML=c,document.getElementById("id04").innerHTML=p):document.getElementById("listings").innerHTML=r}var e,i=new XMLHttpRequest,a=location.href.split(".html")[0].split("/").pop();e=a.indexOf("detail")!==-1?a.split("detail")[0]:a;var s=location.href.slice(-16),n="assets/json/"+e+".json";$("body").addClass(e),$('a[href="#id02"]').click(function(){$(".detailblock").css({padding:"50px 0px 0px 0px !important;"})}),console.log(a),console.log(e),console.log(s),console.log(n),i.onreadystatechange=function(){4==i.readyState&&t(i.responseText)},i.open("GET",n,!0),i.send()}();